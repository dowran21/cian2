(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[38],{100:function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.heartO=void 0;t.heartO={viewBox:"0 0 1792 1792",children:[{name:"path",attribs:{d:"M1664 596q0-81-21.5-143t-55-98.5-81.5-59.5-94-31-98-8-112 25.5-110.5 64-86.5 72-60 61.5q-18 22-49 22t-49-22q-24-28-60-61.5t-86.5-72-110.5-64-112-25.5-98 8-94 31-81.5 59.5-55 98.5-21.5 143q0 168 187 355l581 560 580-559q188-188 188-356zM1792 596q0 221-229 450l-623 600q-18 18-44 18t-44-18l-624-602q-10-8-27.5-26t-55.5-65.5-68-97.5-53.5-121-23.5-138q0-220 127-344t351-124q62 0 126.5 21.5t120 58 95.5 68.5 76 68q36-36 76-68t95.5-68.5 120-58 126.5-21.5q224 0 351 124t127 344z"}}]}},334:function(e,t,c){"use strict";c.r(t);var l=c(8),i=c(122),s=c(18),a=c(0),n=c(5),o=(c(102),c(100),c(101),c(22)),r=c(98),d=c(49),u=(c(27),c(99)),j=c(34),b=(c(119),c(104)),m=c.n(b),f=c(142),v=c(141),p=c(131),O=c(35),x=c(9),h=c(1),_=Object(a.lazy)((function(){return Promise.all([c.e(3),c.e(8)]).then(c.bind(null,198))}));var g=v.a().shape({price:v.b().required("Hokman bolmaly"),area:v.b().required("Hokman bolmaly"),description_tm:v.b().min(10,"Azyndan 10 simwol").required("Hokman bolmaly"),description_ru:v.b().min(10,"Azyndan 10 simwol").required("Hokman bolmaly")});t.default=function(e){var t,c,b,v,N,y,k=e.update_id,w=Object(a.useContext)(j.a),q=w.lang,S=(w.dispatchLang,Object(o.b)()),E=(Object(n.f)(),Object(o.c)(r.a),Object(o.c)(r.d),Object(o.c)(r.c)),L=Object(a.useState)(),C=Object(s.a)(L,2),z=C[0],A=C[1],H=Object(a.useState)(),M=Object(s.a)(H,2),B=M[0],F=M[1],J=Object(a.useState)(!0),P=Object(s.a)(J,2),U=P[0],V=P[1],T=Object(a.useState)([]),D=Object(s.a)(T,2),G=D[0],I=D[1],K=Object(a.useState)({}),Q=Object(s.a)(K,2),R=Q[0],W=Q[1],X=Object(a.useState)([]),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],ee=Object(a.useState)([]),te=Object(s.a)(ee,2),ce=te[0],le=te[1],ie=Object(a.useState)(),se=Object(s.a)(ie,2),ae=se[0],ne=se[1],oe="";oe="ru"==q?"ru":"tm";var re=Object(a.useState)({}),de=Object(s.a)(re,2),ue=(de[0],de[1],Object(a.useState)({})),je=Object(s.a)(ue,2),be=je[0],me=je[1];Object(a.useEffect)((function(){me({lat:null===R||void 0===R?void 0:R.lat,lng:null===R||void 0===R?void 0:R.lng})}),[R]),Object(a.useEffect)((function(){S(Object(d.a)({url:"tm/main-locations",token:"",action:function(e){e.success?$(e.data.rows):console.log("error_data ",e)}}))}),[]),Object(a.useEffect)((function(){ae&&S(Object(d.a)({url:"tm/region-locations/".concat(ae),token:"",action:function(e){e.success?le(e.data.rows):console.log("error_data ",e)}}))}),[ae]),Object(a.useEffect)((function(){S(Object(d.a)({url:"user/tm/user-real-estate/".concat(k),token:E,action:function(e){e.success?(console.log("get_update ",e),A(e.data.rows),V(!1)):console.log("error_data ",e)}}))}),[oe]),Object(a.useEffect)((function(){(null===z||void 0===z?void 0:z.type_id)&&S(Object(d.a)({url:"tm/specifications-for-type/".concat(null===z||void 0===z?void 0:z.type_id,"/").concat(null===z||void 0===z?void 0:z.category_id),token:"",action:function(e){e.success?(console.log("get_form ",e),F(e.data.rows)):console.log("error_data ",e)}}))}),[z]);var fe=Object(p.e)({resolver:Object(f.a)(g)}),ve=fe.register,pe=(fe.watch,fe.handleSubmit),Oe=fe.formState.errors,xe=fe.setError,he=fe.setValue;return fe.getValues,he("price",null===z||void 0===z?void 0:z.price),he("area",null===z||void 0===z?void 0:z.area),he("description_tm",null===z||void 0===z?void 0:z.description_tm),he("description_ru",null===z||void 0===z?void 0:z.description_ru),Object(a.useEffect)((function(){for(var e=function(e){I((function(t){return[].concat(Object(i.a)(t),[{id:B[e].specification_id,is_required:B[e].is_required,is_multiple:B[e].is_multiple,values:[]}])}))},t=0;t<(null===B||void 0===B?void 0:B.length);t++)e(t)}),[B]),console.log(G,"-----put"),console.log(G,"-------filter"),Object(h.jsx)(h.Fragment,{children:U?Object(h.jsx)(O.a,{type:"table"}):Object(h.jsxs)("form",{onSubmit:pe((function(e){e=Object(l.a)(Object(l.a)({},e),{},{specifications:G,position:be}),console.log(e,"----useForm hook"),S(Object(d.b)({url:"user/tm/update-real-estate/".concat(null===z||void 0===z?void 0:z.real_estate_id),token:E,data:e,action:function(e){var t;if(e.success)console.log("update_response ",e),x.b.success("\xdcst\xfcnlikli \xfc\xfdtgedildi!");else if(console.log("error_data ",e),x.b.error("\xdcst\xfcnlikli bolmady!"),null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.data){var c,l,i=null===Object||void 0===Object?void 0:Object.keys(null===e||void 0===e||null===(c=e.message)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.error);null===i||void 0===i||i.map((function(t){var c,l;xe(t,{type:"manual",message:null===e||void 0===e||null===(c=e.message)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.error[t]})}))}}}))})),className:"profile_main flex flex-col bg-white border rounded-md my-6 p-3",children:[Object(h.jsx)("h1",{children:"Update"}),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:u.a[q].not15})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsx)("input",Object(l.a)(Object(l.a)({type:"text"},ve("price")),{},{className:"p-1 px-2 border rounded-sm w-40 mr-4 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"})),Object(h.jsx)("span",{children:u.a[q].not16}),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(t=Oe.price)||void 0===t?void 0:t.message)?Oe.price.message:null})]})]}),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:u.a[q].not17})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsx)("input",Object(l.a)(Object(l.a)({type:"text"},ve("area")),{},{className:"p-1 px-2 border rounded-sm w-40 mr-4 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"})),Object(h.jsx)("span",{children:"\u043c\xb2"}),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(c=Oe.area)||void 0===c?void 0:c.message)?Oe.area.message:null})]})]}),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:u.a[q].not18})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsx)("textarea",Object(l.a)(Object(l.a)({},ve("description_tm")),{},{className:"border p-1 w-1/2 h-44 text-sm px-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"})),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(b=Oe.description_tm)||void 0===b?void 0:b.message)?Oe.description_tm.message:null})]})]}),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:u.a[q].not19})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsx)("textarea",Object(l.a)(Object(l.a)({},ve("description_ru")),{},{className:"border p-1 w-1/2 h-44 text-sm px-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"})),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(v=Oe.description_ru)||void 0===v?void 0:v.message)?Oe.description_ru.message:null})]})]}),null===B||void 0===B?void 0:B.map((function(e){var t,c,l;return Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:e.name},e.id)}),Object(h.jsx)("div",{className:"filter_links1",children:Object(h.jsxs)("div",{className:"flex flex-wrap",children:[e.is_multiple?Object(h.jsx)("div",{className:"flex flex-wrap",children:null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t.map((function(t){return Object(h.jsxs)("label",{className:"radio-toolbar mb-3 border outline-none cursor-pointer rounded-sm p-1 px-3 \r hover:text-white hover:bg-blue-600 mr-4",for:t.value_id,children:[Object(h.jsx)("input",{type:"checkbox",name:e.name,id:t.value_id,className:"hidden",onClick:function(c){var l,i;l=e.specification_id,i=t.value_id,I(G.map((function(e){return e.id==l&&(e.values.includes(i)?e.values=e.values.filter((function(e){return e!==i})):e.values.push(i)),e}))),document.querySelectorAll(".radio-toolbar").forEach((function(e){if(e.children[0].checked)e.classList.add("toolbar");else e.classList.remove("toolbar")}))}}),Object(h.jsx)("span",{children:t.absolute_value},t.value_id)]})}))}):Object(h.jsx)("div",{className:"flex flex-wrap",children:null===e||void 0===e||null===(c=e.values)||void 0===c?void 0:c.map((function(t){return Object(h.jsxs)("label",{className:"radio-toolbar mb-3 border outline-none cursor-pointer rounded-sm p-1 px-3 \r hover:text-white hover:bg-blue-600 mr-4",for:t.value_id,children:[Object(h.jsx)("input",{type:"radio",name:e.name,id:t.value_id,className:"hidden",onClick:function(){var c,l;c=e.specification_id,l=t.value_id,I(G.map((function(e){return e.id==c&&(e.values[0]=l),e}))),document.querySelectorAll(".radio-toolbar").forEach((function(e){if(e.children[0].checked)e.classList.add("toolbar");else e.classList.remove("toolbar")}))}}),Object(h.jsx)("span",{children:t.absolute_value},t.value_id)]})}))}),Object(h.jsx)("p",{className:"text-red-500 my-1 ml-2",children:(null===(l=Oe.specifications)||void 0===l?void 0:l.message)?Oe.specifications.message:null})]})})]})})),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:"Location"})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsxs)("div",{className:"flex",children:[null===Z||void 0===Z?void 0:Z.map((function(e){return Object(h.jsxs)("label",{className:"radio_loc mb-3 rounded-md border outline-none cursor-pointer rounded-sm p-1 px-3 \r hover:text-white hover:bg-blue-600 mr-4",onClick:function(){ne(e.id),document.querySelectorAll(".radio_loc").forEach((function(e){if(e.children[0].checked)e.classList.add("toolbar");else e.classList.remove("toolbar")}))},children:[Object(h.jsx)("input",{type:"radio",name:"loc",className:"hidden"}),Object(h.jsx)("span",{children:e.name})]})})),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(N=Oe.location_id)||void 0===N?void 0:N.message)?Oe.location_id.message:null})]}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"location_grid",children:[Object(h.jsx)("div",{className:"flex flex-col ",children:null===ce||void 0===ce?void 0:ce.slice(0,7).map((function(e){return Object(h.jsxs)("label",{className:"my-1",onClick:function(){he("location_id",e.id)},children:[Object(h.jsx)("input",{type:"radio",name:"loc1",className:"mr-3"}),Object(h.jsx)("span",{children:e.name})]})}))}),Object(h.jsx)("div",{className:"flex flex-col ",children:null===ce||void 0===ce?void 0:ce.slice(7,15).map((function(e){return Object(h.jsxs)("label",{className:"my-1",onClick:function(){he("location_id",e.id)},children:[Object(h.jsx)("input",{type:"radio",name:"loc1",className:"mr-3"}),Object(h.jsx)("span",{children:e.name})]})}))}),Object(h.jsx)("div",{className:"flex flex-col ",children:null===ce||void 0===ce?void 0:ce.slice(15,23).map((function(e){return Object(h.jsxs)("label",{className:"my-1",onClick:function(){he("location_id",e.id)},children:[Object(h.jsx)("input",{type:"radio",name:"loc1",className:"mr-3"}),Object(h.jsx)("span",{children:e.name})]})}))}),Object(h.jsx)("div",{className:"flex flex-col ",children:null===ce||void 0===ce?void 0:ce.slice(23,30).map((function(e){return Object(h.jsxs)("label",{className:"my-1",onClick:function(){he("location_id",e.id)},children:[Object(h.jsx)("input",{type:"radio",name:"loc1",className:"mr-3"}),Object(h.jsx)("span",{children:e.name})]})}))})]})]})]}),Object(h.jsx)("hr",{className:"my-8"}),Object(h.jsx)("p",{className:"font-medium my-3",children:u.a[q].not22}),Object(h.jsx)(_,{setLocation:W}),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(y=Oe.position)||void 0===y?void 0:y.message)?Oe.position.message:null}),Object(h.jsx)(m.a,{color:"lightBlue",buttonType:"link",size:"regular",rounded:!1,block:!1,iconOnly:!1,ripple:"dark",type:"submit",className:"w-40 flex self-center mb-5 mt-8",children:"Update"})]})})}}}]);
//# sourceMappingURL=38.f202715c.chunk.js.map