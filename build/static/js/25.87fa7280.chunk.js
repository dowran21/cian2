(this.webpackJsonpgamysh=this.webpackJsonpgamysh||[]).push([[25],{1166:function(t,e,a){"use strict";a.r(e);var c=a(12),s=a(9),r=a(0),n=a(82),o=a(13),l=a(457),i=a.n(l),d=a(458),u=a.n(d),j=a(459),p=a.n(j),b=a(460),O=a.n(b),x=a(461),f=a.n(x),y=a(462),h=a.n(y),m=a(2);function _(t){var e=t.color,a=t.icon,c=t.title,s=t.amount,r=t.percentage,n=t.percentageColor,o=t.percentageIcon,l=t.date;return Object(m.jsx)("div",{className:"px-4 mb-10",children:Object(m.jsxs)(i.a,{children:[Object(m.jsxs)(u.a,{children:[Object(m.jsx)(p.a,{color:e,iconOnly:!0,className:"mb-0",children:a}),Object(m.jsx)(O.a,{title:c,amount:s})]}),Object(m.jsx)(f.a,{amount:r,color:n,date:l,children:Object(m.jsx)(h.a,{color:n,name:o})})]})})}var g=a(14),v=a(464),T=a(463),w=a(248),E=a(16),S=a(1150),N=a(1155),k=a(202),C=a(203),A=a(1141),D=a(351),K=a(534),U=a(1156),R=a(536),P=a(1157),I=a(1142);function G(t,e){switch(e.type){case"SET_STATUS":return Object(s.a)(Object(s.a)({},t),{},{status:e.payload});case"SET_USERS":return Object(s.a)(Object(s.a)({},t),{},{user_types:e.payload});case"SET_LOADING":return Object(s.a)(Object(s.a)({},t),{},{loading:!1});case"SET_PRICE_STAT":return Object(s.a)(Object(s.a)({},t),{},{price_data:e.payload});case"SET_TYPES":return Object(s.a)(Object(s.a)({},t),{},{types:e.payload});case"SET_TYPE_ID":return Object(s.a)(Object(s.a)({},t),{},{type_id:e.payload,chart_trigger:!t.chart_trigger});case"SET_START_DATE":return Object(s.a)(Object(s.a)({},t),{},{start_date:e.payload,chart_trigger:!t.chart_trigger});case"SET_END_DATE":return Object(s.a)(Object(s.a)({},t),{},{end_date:e.payload,chart_trigger:!t.chart_trigger});case"SET_USER_CHART":return Object(s.a)(Object(s.a)({},t),{},{user_chart:e.payload});case"SET_ESTATE_COUNT":return Object(s.a)(Object(s.a)({},t),{},{estate_chart:e.payload});default:return t}}e.default=function(){var t,e,a,s,l=Object(r.useReducer)(G,{loading:!0,user_types:[],status:{},line_data:[],price_data:[],types:[],chart_trigger:!1,type_id:"",start_date:"",end_date:"",user_chart:[],estate_chart:[]}),i=Object(c.a)(l,2),d=i[0],u=i[1],j=Object(o.b)(),p=Object(o.c)((function(t){return t.auth.token}));return Object(r.useEffect)((function(){j(Object(n.a)({url:"api/admin/get-active-real-estates",token:p,action:function(t){t.success?u({type:"SET_STATUS",payload:t.data.rows}):g.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}})),j(Object(n.a)({url:"api/admin/get-user-types",token:p,action:function(t){t.success?u({type:"SET_USERS",payload:t.data.rows}):g.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}})),j(Object(n.a)({url:"api/admin/all-real-estate-statistics",token:p,action:function(t){t.success}})),j(Object(n.a)({url:"api/admin/get-all-types",token:p,action:function(t){t.success?u({type:"SET_TYPES",payload:t.data.rows}):g.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0442\u0438\u043f\u043e\u0432")}})),u({type:"SET_LOADING",payload:{}})}),[]),Object(r.useEffect)((function(){j(Object(n.a)({url:"api/admin/get-price-statistics?type_id=".concat(d.type_id,"&start_date=").concat(d.start_date,"&end_date=").concat(d.end_date),token:p,action:function(t){t.success&&u({type:"SET_PRICE_STAT",payload:t.data.rows})}})),j(Object(n.a)({url:"api/admin/get-user-chart?start_date=".concat(d.start_date,"&end_date=").concat(d.end_date),token:p,action:function(t){t.success&&(console.log(t.data),u({type:"SET_USER_CHART",payload:t.data.rows}),console.log(t.data.rows))}})),j(Object(n.a)({url:"api/admin/get-real-estate-statistics?start_date=".concat(d.start_date,"&end_date=").concat(d.end_date),token:p,action:function(t){t.success&&(console.log(t.data),u({type:"SET_ESTATE_COUNT",payload:t.data.rows}))}}))}),[d.chart_trigger]),Object(m.jsx)("div",{className:"pb-10",children:d.loading?Object(m.jsx)(E.a,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"container mx-auto max-w-full py-10",children:Object(m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 mb-4",children:[(null===(t=d.user_types)||void 0===t?void 0:t.length)>0&&d.user_types.map((function(t){return Object(m.jsx)(_,{color:1===t.id?"blue":"red",icon:1===t.id?Object(m.jsx)(T.FaUser,{className:"w-full h-full"}):Object(m.jsx)(v.FaUserTie,{className:"w-full h-full"}),title:1===t.id?"\u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0438":"\u0420\u0438\u044d\u0442\u043e\u0440\u044b",amount:t.count},t.id)})),(null===(e=d.status)||void 0===e?void 0:e.active)&&Object(m.jsx)(_,{color:"blue",icon:Object(m.jsx)(w.MdBusiness,{className:"w-full h-full"}),title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f",amount:d.status.active}),(null===(a=d.status)||void 0===a?void 0:a.deactive)&&Object(m.jsx)(_,{color:"red",icon:Object(m.jsx)(w.MdBusiness,{className:"w-full h-full"}),title:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u044f",amount:d.status.deactive})]})}),Object(m.jsxs)("div",{className:"p-10 flex flex-row jsutify-center items-beetwen",children:[Object(m.jsxs)("div",{className:"pl-3",children:[Object(m.jsx)("label",{className:"pl-4",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f"}),Object(m.jsxs)("select",{onChange:function(t){return u({type:"SET_TYPE_ID",payload:t.target.value})},className:"w-1/3 pr-4 pl-15 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none pl-10",children:[Object(m.jsx)("option",{className:"rounded-xl",value:"",hidden:!0,children:"\u0422\u0438\u043f"}),null===(s=d.types)||void 0===s?void 0:s.map((function(t){return Object(m.jsx)("option",{value:t.id,children:t.name},t.id)}))]})]}),Object(m.jsxs)("div",{className:"pl-3",children:[Object(m.jsx)("label",{className:"pl-4",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(m.jsx)("input",{onChange:function(t){u({type:"SET_START_DATE",payload:t.target.value})},type:"text",onFocus:function(t){t.currentTarget.type="date"},onBlur:function(t){return t.currentTarget.type="text"},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e",className:"w-1/3 pr-4 pl-15 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none pl-10"})]}),Object(m.jsxs)("div",{className:"pl-3",children:[Object(m.jsx)("label",{className:"pl-4",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e"}),Object(m.jsx)("input",{onChange:function(t){u({type:"SET_END_DATE",payload:t.target.value})},type:"text",onFocus:function(t){t.currentTarget.type="date"},onBlur:function(t){return t.currentTarget.type="text"},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e",className:"w-1/3 pr-4 pl-15 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none pl-10"})]})]}),!d.loading&&Object(m.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(m.jsxs)(S.a,{className:"p-3",width:1e3,height:250,data:d.price_data,margin:{top:5,right:30,left:20,bottom:5},children:[Object(m.jsx)(N.a,{strokeDasharray:"3 3"}),Object(m.jsx)(k.a,{dataKey:"created_at"}),Object(m.jsx)(C.a,{}),Object(m.jsx)(A.a,{}),Object(m.jsx)(D.a,{}),Object(m.jsx)(K.a,{type:"monotone",dataKey:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430",stroke:"#8884d8"}),Object(m.jsx)(K.a,{type:"monotone",dataKey:"\u0410\u0440\u0435\u043d\u0434\u0430",stroke:"#82ca9d"})]}),Object(m.jsxs)(U.a,{className:"py-5 pl-2",width:1e3,height:250,data:d.estate_chart,margin:{top:10,right:30,left:0,bottom:0},children:[Object(m.jsxs)("defs",{children:[Object(m.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(m.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(m.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),Object(m.jsxs)("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(m.jsx)("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),Object(m.jsx)("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0})]}),Object(m.jsxs)("linearGradient",{id:"colorKv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(m.jsx)("stop",{offset:"5%",stopColor:"#fc4103",stopOpacity:.8}),Object(m.jsx)("stop",{offset:"95%",stopColor:"#fc4103",stopOpacity:0})]}),Object(m.jsxs)("linearGradient",{id:"colorZv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(m.jsx)("stop",{offset:"5%",stopColor:"#03fcf4",stopOpacity:.8}),Object(m.jsx)("stop",{offset:"95%",stopColor:"#03fcf4",stopOpacity:0})]})]}),Object(m.jsx)(k.a,{dataKey:"created_at"}),Object(m.jsx)(C.a,{}),Object(m.jsx)(N.a,{strokeDasharray:"3 3"}),Object(m.jsx)(A.a,{}),Object(m.jsx)(R.a,{type:"monotone",dataKey:"\u041d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0435",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}),Object(m.jsx)(R.a,{type:"monotone",dataKey:"\u041f\u0440\u043e\u0434\u0430\u043d\u043d\u044b\u0435",stroke:"#82ca9d",fillOpacity:1,fill:"url(#colorPv)"}),Object(m.jsx)(R.a,{type:"monotone",dataKey:"\u0421\u0434\u0430\u0435\u0442\u0441\u044f \u0432 \u0430\u0440\u0435\u043d\u0434\u0443",stroke:"#fc4103",fillOpacity:1,fill:"url(#colorKv)"}),Object(m.jsx)(R.a,{type:"monotone",dataKey:"\u0421\u0434\u0430\u043d\u043e \u0432 \u0430\u0440\u0435\u043d\u0434\u0443",stroke:"#03fcf4",fillOpacity:1,fill:"url(#colorZv)"})]}),Object(m.jsxs)("div",{className:"flex flex-row justify-center items-center p-5",children:[Object(m.jsx)("div",{className:"",style:{color:"#8884d8"},children:"\u041d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0435"}),Object(m.jsx)("div",{className:"pl-3",style:{color:"#82ca9d"},children:"\u041f\u0440\u043e\u0434\u0430\u043d\u043d\u044b\u0435"}),Object(m.jsx)("div",{className:"pl-3",style:{color:"#fc4103"},children:"\u0421\u0434\u0430\u0435\u0442\u0441\u044f \u0432 \u0430\u0440\u0435\u043d\u0434\u0443"}),Object(m.jsx)("div",{className:"pl-3",style:{color:"#03fcf4"},children:"\u0421\u0434\u0430\u043d\u043e \u0432 \u0430\u0440\u0435\u043d\u0434\u0443"})]}),Object(m.jsxs)(P.a,{width:1e3,height:250,data:d.user_chart,children:[Object(m.jsx)(N.a,{strokeDasharray:"3 3"}),Object(m.jsx)(k.a,{dataKey:"created_at"}),Object(m.jsx)(C.a,{}),Object(m.jsx)(A.a,{}),Object(m.jsx)(D.a,{}),Object(m.jsx)(I.a,{dataKey:"\u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u0438",fill:"#8884d8"}),Object(m.jsx)(I.a,{dataKey:"\u0420\u0438\u0435\u043b\u0442\u043e\u0440\u044b",fill:"#82ca9d"})]})]})]})})}},82:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return l}));var c=a(3),s=a.n(c),r=a(10),n=a(30),o=(a(14),function(t){var e=t.url,a=t.token,c=t.action;return Object(r.a)(s.a.mark((function t(){var r,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.a.get({url:e,token:a,withCredentials:!1});case 3:return r=t.sent,t.abrupt("return",c({success:!0,data:r.data}));case 7:return t.prev=7,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",c({success:!1,message:null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o?void 0:o.data}));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))}),l=function(t){var e=t.url,a=t.token,c=t.action,o=t.data;return function(){var t=Object(r.a)(s.a.mark((function t(r){var l,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.a.post({url:e,params:o,withCredentials:!1,token:a});case 3:return l=t.sent,t.abrupt("return",c({success:!0,data:l.data}));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",c({success:!1,message:null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i?void 0:i.data,error:null===t.t0||void 0===t.t0?void 0:t.t0.response}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=25.87fa7280.chunk.js.map