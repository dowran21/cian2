(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[40],{328:function(e,t,i){"use strict";i.r(t);var l=i(8),s=i(120),c=i(18),a=i(0),n=i(5),o=(i(102),i(99),i(100),i(22)),r=i(98),d=i(49),u=(i(27),i(101)),b=i(34),j=(i(117),i(104)),m=i.n(j),v=i(140),p=i(139),f=i(129),O=i(35),x=i(9),h=i(1);var _=p.a().shape({price:p.b().required("Hokman bolmaly"),area:p.b().required("Hokman bolmaly"),description_tm:p.b().min(10,"Azyndan 10 simwol").required("Hokman bolmaly"),description_ru:p.b().min(10,"Azyndan 10 simwol").required("Hokman bolmaly")});t.default=function(e){var t,i,j,p,g=e.update_id,y=Object(a.useContext)(b.a),N=y.lang,w=(y.dispatchLang,Object(o.b)()),k=(Object(n.f)(),Object(o.c)(r.a),Object(o.c)(r.d),Object(o.c)(r.c)),q=Object(a.useState)(),S=Object(c.a)(q,2),E=S[0],z=S[1],L=Object(a.useState)(),A=Object(c.a)(L,2),H=A[0],C=A[1],M=Object(a.useState)(!0),B=Object(c.a)(M,2),F=B[0],J=B[1],U=Object(a.useState)([]),V=Object(c.a)(U,2),P=V[0],T=V[1],D="";D="ru"==N?"ru":"tm";var G=Object(a.useState)({}),I=Object(c.a)(G,2);I[0],I[1],Object(a.useEffect)((function(){w(Object(d.a)({url:"user/tm/user-real-estate/".concat(g),token:k,action:function(e){e.success?(console.log("get_update ",e),z(e.data.rows),J(!1)):console.log("error_data ",e)}}))}),[D]),Object(a.useEffect)((function(){(null===E||void 0===E?void 0:E.type_id)&&w(Object(d.a)({url:"tm/specifications-for-type/".concat(null===E||void 0===E?void 0:E.type_id,"/").concat(null===E||void 0===E?void 0:E.category_id),token:"",action:function(e){e.success?(console.log("get_form ",e),C(e.data.rows)):console.log("error_data ",e)}}))}),[E]);var K=Object(f.e)({resolver:Object(v.a)(_)}),Q=K.register,R=(K.watch,K.handleSubmit),W=K.formState.errors,X=K.setError,Y=K.setValue;return K.getValues,Y("price",null===E||void 0===E?void 0:E.price),Y("area",null===E||void 0===E?void 0:E.area),Y("description_tm",null===E||void 0===E?void 0:E.description_tm),Y("description_ru",null===E||void 0===E?void 0:E.description_ru),Object(a.useEffect)((function(){for(var e=function(e){T((function(t){return[].concat(Object(s.a)(t),[{id:H[e].specification_id,is_required:H[e].is_required,is_multiple:H[e].is_multiple,values:[]}])}))},t=0;t<(null===H||void 0===H?void 0:H.length);t++)e(t)}),[H]),console.log(P,"-----put"),console.log(P,"-------filter"),Object(h.jsx)(h.Fragment,{children:F?Object(h.jsx)(O.a,{type:"table"}):Object(h.jsxs)("form",{onSubmit:R((function(e){console.log(e,"----useForm hook"),e=Object(l.a)(Object(l.a)({},e),{},{specifications:P}),w(Object(d.b)({url:"user/tm/update-real-estate/".concat(null===E||void 0===E?void 0:E.real_estate_id),token:k,data:e,action:function(e){var t;if(e.success)console.log("update_response ",e),x.b.success("\xdcst\xfcnlikli \xfc\xfdtgedildi!");else if(console.log("error_data ",e),x.b.error("\xdcst\xfcnlikli bolmady!"),null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.data){var i,l,s=null===Object||void 0===Object?void 0:Object.keys(null===e||void 0===e||null===(i=e.message)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.error);null===s||void 0===s||s.map((function(t){var i,l;X(t,{type:"manual",message:null===e||void 0===e||null===(i=e.message)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.error[t]})}))}}}))})),className:"profile_main flex flex-col bg-white border rounded-md my-6 p-3",children:[Object(h.jsx)("h1",{children:"Update"}),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:u.a[N].not15})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsx)("input",Object(l.a)(Object(l.a)({type:"text"},Q("price")),{},{className:"p-1 px-2 border rounded-sm w-40 mr-4 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"})),Object(h.jsx)("span",{children:u.a[N].not16}),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(t=W.price)||void 0===t?void 0:t.message)?W.price.message:null})]})]}),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:u.a[N].not17})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsx)("input",Object(l.a)(Object(l.a)({type:"text"},Q("area")),{},{className:"p-1 px-2 border rounded-sm w-40 mr-4 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"})),Object(h.jsx)("span",{children:"\u043c\xb2"}),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(i=W.area)||void 0===i?void 0:i.message)?W.area.message:null})]})]}),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:u.a[N].not18})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsx)("textarea",Object(l.a)(Object(l.a)({},Q("description_tm")),{},{className:"border p-1 w-1/2 h-44 text-sm px-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"})),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(j=W.description_tm)||void 0===j?void 0:j.message)?W.description_tm.message:null})]})]}),Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:u.a[N].not19})}),Object(h.jsxs)("div",{className:"filter_links1",children:[Object(h.jsx)("textarea",Object(l.a)(Object(l.a)({},Q("description_ru")),{},{className:"border p-1 w-1/2 h-44 text-sm px-2 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"})),Object(h.jsx)("p",{className:"text-red-500 my-1",children:(null===(p=W.description_ru)||void 0===p?void 0:p.message)?W.description_ru.message:null})]})]}),null===H||void 0===H?void 0:H.map((function(e){var t,i,l;return Object(h.jsxs)("div",{className:"w-full flex justify-between mt-5",children:[Object(h.jsx)("div",{className:"title_name1",children:Object(h.jsx)("p",{children:e.name},e.id)}),Object(h.jsx)("div",{className:"filter_links1",children:Object(h.jsxs)("div",{className:"flex flex-wrap",children:[e.is_multiple?Object(h.jsx)("div",{className:"flex flex-wrap",children:null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t.map((function(t){return Object(h.jsxs)("label",{className:"radio-toolbar mb-3 border outline-none cursor-pointer rounded-sm p-1 px-3 \r hover:text-white hover:bg-blue-600 mr-4",for:t.value_id,children:[Object(h.jsx)("input",{type:"checkbox",name:e.name,id:t.value_id,className:"hidden",onClick:function(i){var l,s;l=e.specification_id,s=t.value_id,T(P.map((function(e){return e.id==l&&(e.values.includes(s)?e.values=e.values.filter((function(e){return e!==s})):e.values.push(s)),e}))),document.querySelectorAll(".radio-toolbar").forEach((function(e){if(e.children[0].checked)e.classList.add("toolbar");else e.classList.remove("toolbar")}))}}),Object(h.jsx)("span",{children:t.absolute_value},t.value_id)]})}))}):Object(h.jsx)("div",{className:"flex flex-wrap",children:null===e||void 0===e||null===(i=e.values)||void 0===i?void 0:i.map((function(t){return Object(h.jsxs)("label",{className:"radio-toolbar mb-3 border outline-none cursor-pointer rounded-sm p-1 px-3 \r hover:text-white hover:bg-blue-600 mr-4",for:t.value_id,children:[Object(h.jsx)("input",{type:"radio",name:e.name,id:t.value_id,className:"hidden",onClick:function(){var i,l;i=e.specification_id,l=t.value_id,T(P.map((function(e){return e.id==i&&(e.values[0]=l),e}))),document.querySelectorAll(".radio-toolbar").forEach((function(e){if(e.children[0].checked)e.classList.add("toolbar");else e.classList.remove("toolbar")}))}}),Object(h.jsx)("span",{children:t.absolute_value},t.value_id)]})}))}),Object(h.jsx)("p",{className:"text-red-500 my-1 ml-2",children:(null===(l=W.specifications)||void 0===l?void 0:l.message)?W.specifications.message:null})]})})]})})),Object(h.jsx)(m.a,{color:"lightBlue",buttonType:"link",size:"regular",rounded:!1,block:!1,iconOnly:!1,ripple:"dark",type:"submit",className:"w-40 flex self-center my-4",children:"Update"})]})})}},99:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.heartO=void 0;t.heartO={viewBox:"0 0 1792 1792",children:[{name:"path",attribs:{d:"M1664 596q0-81-21.5-143t-55-98.5-81.5-59.5-94-31-98-8-112 25.5-110.5 64-86.5 72-60 61.5q-18 22-49 22t-49-22q-24-28-60-61.5t-86.5-72-110.5-64-112-25.5-98 8-94 31-81.5 59.5-55 98.5-21.5 143q0 168 187 355l581 560 580-559q188-188 188-356zM1792 596q0 221-229 450l-623 600q-18 18-44 18t-44-18l-624-602q-10-8-27.5-26t-55.5-65.5-68-97.5-53.5-121-23.5-138q0-220 127-344t351-124q62 0 126.5 21.5t120 58 95.5 68.5 76 68q36-36 76-68t95.5-68.5 120-58 126.5-21.5q224 0 351 124t127 344z"}}]}}}]);
//# sourceMappingURL=40.d8ea20a8.chunk.js.map