{"version":3,"sources":["pages/image/gamysh.jpg","pages/image/hotel.jpg","pages/image/hotel1.jpg","pages/image/hotel2.jpeg","../node_modules/react-icons-kit/entypo/smallDown.js","pages/Arenda.js","application/selectors/auth.js"],"names":["Object","defineProperty","exports","value","smallDown","Navbar","lazy","Search","Footer","Arenda","idS","dispatch","useDispatch","location","useLocation","history","useHistory","pathname","split","category_id","parseInt","categories","useSelector","getCategory","useState","ready_filter","setReady_filter","products","setProducts","category","setCategory","type","setType","useEffect","console","log","fetchData","url","token","action","response","success","data","rows","real_estates_all","className","map","cate","onClick","push","id","style","backgroundImage","destination","name","count","length","estates","slice","filter_1","type_id","main_types","cate_main","item","images","src","price","real_estate_name","getIsLogged","state","auth","isLogged","getToken","getUser","user"],"mappings":"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","file":"static/js/18.047b3458.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/gamysh.443ba340.jpg\";","export default __webpack_public_path__ + \"static/media/hotel.8fab9f94.jpg\";","export default __webpack_public_path__ + \"static/media/hotel1.4e374cd0.jpg\";","export default __webpack_public_path__ + \"static/media/hotel2.80655785.jpeg\";","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.smallDown = void 0;\nvar smallDown = {\n  \"viewBox\": \"0 0 20 20\",\n  \"children\": [{\n    \"name\": \"path\",\n    \"attribs\": {\n      \"d\": \"M13.418,7.859c0.271-0.268,0.709-0.268,0.978,0c0.27,0.268,0.272,0.701,0,0.969l-3.908,3.83\\r\\n\\tc-0.27,0.268-0.707,0.268-0.979,0l-3.908-3.83c-0.27-0.267-0.27-0.701,0-0.969c0.271-0.268,0.709-0.268,0.978,0L10,11L13.418,7.859z\\r\\n\\t\"\n    }\n  }]\n};\nexports.smallDown = smallDown;","import {useEffect, lazy, Suspense, useState} from 'react';\r\nimport { Route, Switch, useRouteMatch, useHistory, Redirect, Link,useLocation } from 'react-router-dom';\r\nimport image from './image/gamysh.jpg';\r\nimport image1 from './image/hotel.jpg'\r\nimport image2 from './image/hotel1.jpg'\r\nimport image3 from './image/hotel2.jpeg'\r\nimport { Icon } from 'react-icons-kit'\r\nimport {smallDown} from 'react-icons-kit/entypo/smallDown';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport { post, fetchData } from '../application/middlewares/index';\r\nimport { getCategory } from '../application/selectors/auth';\r\n\r\n\r\n\r\nconst Navbar = lazy(() => import('./Navbar'))\r\nconst Search = lazy(() => import('./Search'))\r\nconst Footer = lazy(() => import('./Footer'))\r\n\r\n\r\nfunction Arenda(){\r\n    const dispatch = useDispatch();\r\n    let location = useLocation();\r\n    const history = useHistory();\r\n    let idS = [];\r\n        var s=location.pathname;\r\n        idS = s.split('/');\r\n        // console.log(idS)\r\n        let category_id =parseInt(idS[2]) ;\r\n    const categories = useSelector(getCategory);\r\n\r\n    // console.log(categories);\r\n    const [ready_filter, setReady_filter] = useState();\r\n    const [products, setProducts] = useState();\r\n    const [category, setCategory] = useState();\r\n    const [type, setType] = useState(1);\r\n\r\n    \r\n// console.log(ready_filter);\r\n    useEffect(() => {\r\n        console.log(type);\r\n       dispatch(fetchData({\r\n        url:`tm/all-real-estates?page=0&limit=16&main_type_id=${type}`,\r\n        token:'',\r\n        action:(response)=>{\r\n            if(response.success){\r\n                // console.log(\"get_data \",response)\r\n                // console.log(response.data.rows[0].real_estates_all[0])\r\n                setProducts(response.data.rows[0].real_estates_all);\r\n                // console.log(products)\r\n            } else {\r\n                console.log(\"error_data \",response);\r\n                }\r\n            }\r\n        }))\r\n    }, [type]);\r\n\r\n    useEffect(() => {\r\n        console.log(type);\r\n       dispatch(fetchData({\r\n        url:`tm/get-types-count/${category_id}`,\r\n        token:'',\r\n        action:(response)=>{\r\n            if(response.success){\r\n                console.log(\"get_data \",response)\r\n                // console.log(response.data.rows[0].real_estates_all[0])\r\n                setCategory(response.data.rows);\r\n                // console.log(products)\r\n            } else {\r\n                console.log(\"error_data \",response);\r\n                }\r\n            }\r\n        }))\r\n    }, [category_id]);\r\n    \r\n    useEffect(() => {\r\n        dispatch(fetchData({\r\n            url:'tm/commerce-filter',\r\n            token:'',\r\n            action:(response)=>{\r\n                if(response.success){\r\n                    // console.log(\"get_location \",response)\r\n                    // console.log(response.data.rows[0].real_estates_all[0])\r\n                    setReady_filter(response.data.rows);\r\n                    // console.log(products)\r\n                } else {\r\n                    console.log(\"error_data \",response);\r\n                    }\r\n                }\r\n            }))\r\n    }, []);\r\n    return(\r\n        <main>\r\n            <Navbar />\r\n            <Search />\r\n\r\n\r\n            <div className=\"main py-8 bg-gray-100\">\r\n                <div className=\"main1\">\r\n                <h1 className=\"text-3xl font-medium mb-4\">Полезные ссылки</h1>\r\n                    <div className=\"flex justify-between\">\r\n                    <div className=\"categories\">\r\n                        {category?.map((cate)=>(\r\n                           <div onClick={()=>{ \r\n                            history.push(`/products/${category_id}/${cate.id}`)\r\n                            }} \r\n                           className=\"cate_box1 cursor-pointer\" \r\n                           style={{ backgroundImage: `url(http://192.168.31.30:2000/${cate.destination})` }}\r\n                           >\r\n                           <div className=\"box_text\">\r\n                               <p className=\"text-2xl text-white font-medium\">{cate?.name}</p>\r\n                               <span className=\"text-sm text-white\">{cate.count} предложений</span>\r\n                           </div>\r\n                       </div> \r\n                        ))}\r\n                    </div>\r\n                        <div className=\"sub_category\">\r\n                            {ready_filter?.length > 0 ?\r\n                            <div className=\"w-full flex flex-col\">\r\n                                <p className=\"flex items-center font-medium pt-3\">Продается</p>\r\n                                    {ready_filter[0]?.estates?.slice(0,8).map((filter_1)=>(\r\n                                    <div onClick={()=>{ \r\n                                        history.push(`/products/${ready_filter[0]?.category_id}/${filter_1.type_id}`)\r\n                                        }}  className=\"cursor-pointer\">\r\n                                        <span className=\"text-sm text-blue-600\">{filter_1.name}</span>\r\n                                        <span className=\"text-xs text-gray-500 ml-3\">{filter_1.count}</span>\r\n                                    </div>\r\n                                    ))}\r\n                            </div>\r\n                            :\r\n                            null\r\n                            }\r\n                            {ready_filter?.length > 0 ?\r\n                            <div className=\"w-full flex flex-col pt-3\">\r\n                                <p className=\"flex items-center font-medium\">Сдается в аренду</p>\r\n                                {ready_filter[1]?.estates?.slice(0,8).map((filter_1)=>(\r\n                                    <div onClick={()=>{ \r\n                                    history.push(`/products/${ready_filter[1]?.category_id}/${filter_1.type_id}`)\r\n                                    }}  className=\"cursor-pointer\">\r\n                                    <span className=\"text-sm text-blue-600\">{filter_1.name}</span>\r\n                                    <span className=\"text-xs text-gray-500 ml-3\">{filter_1.count}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                            :\r\n                            null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"main py-8 bg-gray-100\">\r\n                <div className=\"main1\">\r\n                <h1 className=\"text-3xl font-medium mb-4\">Популярные объявления</h1>\r\n                <div className=\"flex items-center mb-5\">\r\n                    <p className=\"text-xl font-medium mr-4\">Продажа:</p>\r\n                        {categories[0]?.main_types?.map((cate_main)=>(\r\n                            <p className=\"text-lg mr-4 cursor-pointer\" onClick={() => setType(cate_main.id)} key={cate_main.id}>{cate_main.name}</p>\r\n                        ))}\r\n                </div>\r\n                <div className=\"cards\">\r\n                    {products?.map((item)=>(\r\n                        <div className=\"card_box\" key={item.id}>\r\n                            {item.images === null ? null : <img className=\"card_img\" src={`http://192.168.31.30:2000/${item.images[0]?.destination}-large.webp`} />}\r\n                            {/* {item.images === null ? null : <img className=\"card_img\" src={`http://109.106.244.215:2000/${item.images[0]?.destination}-large.webp`} />} */}\r\n                            <p className=\"font-medium pl-2 pt-2 text-lg\">{item.price} ₽</p>\r\n                            <p className=\"pl-2\">{item.real_estate_name}</p>\r\n                            <p className=\"pl-2 mb-2\">{item.location}</p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                </div>\r\n            </div>\r\n            <Footer />\r\n        </main>\r\n\r\n    )\r\n}\r\n\r\nexport default Arenda;","export const getIsLogged = state => state.auth.isLogged;\nexport const getToken = state => state.auth.token;\nexport const getIsLoading = state => state.auth.isLoading;\nexport const getUser = state => state.auth.user;\nexport const getAuth = state => state.auth;\nexport const getStaffList = state => state.auth.staff_list\n// data\nexport const getCategory = state => state.data.categories;\nexport const getFilters = state => state.data.filters;"],"sourceRoot":""}