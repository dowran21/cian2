(this.webpackJsonpgamysh=this.webpackJsonpgamysh||[]).push([[23],{105:function(e,t,a){"use strict";var c=a(110),n=a(2);t.a=function(e){var t=e.limit,a=e.setLimit,r=e.setPage,l=e.count,s=e.page;return Object(n.jsxs)("div",{className:"relative flex flex-row w-full justify-between px-2",children:[Object(n.jsx)("div",{}),Object(n.jsx)(c.a,{pageSize:t,current:s+1,className:"",total:l,showTotal:function(e,t){return Object(n.jsx)("div",{className:"hidden md:flex absolute top-0 left-2",children:"".concat(t[0]," - ").concat(t[1]," \u0438\u0437 ").concat(e)})},onChange:function(e){return r(e-1)}}),Object(n.jsxs)("select",{className:"focus:outline-none p-1",value:t,onChange:function(e){return a(e.target.value)},children:[Object(n.jsx)("option",{value:10,children:"10"}),Object(n.jsx)("option",{value:20,children:"20"}),Object(n.jsx)("option",{value:30,children:"30"}),Object(n.jsx)("option",{value:40,children:"40"}),Object(n.jsx)("option",{value:50,children:"50"})]})]})}},113:function(e,t,a){var c=a(79).GenIcon;e.exports.GoSearch=function(e){return c({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"}}]})(e)}},115:function(e,t,a){"use strict";var c=a(12),n=a(0);var r=function(e){var t=e.action,a=e.time,r=Object(n.useState)(0),l=Object(c.a)(r,2),s=l[0],i=l[1];return function(e){s&&clearTimeout(s),i(setTimeout((function(){t(e)}),a))}},l=a(113),s=a(2);t.a=function(e){var t=e.placeholder,a=e.action,c=r({time:1500,action:function(e){return a(e)}});return Object(s.jsxs)("div",{className:"relative w-full",children:[Object(s.jsx)("div",{className:"absolute top-1 left-2 inset-y-0 flex items-center pl-1",children:Object(s.jsx)(l.GoSearch,{className:"text-xl text-indigo-600","aria-hidden":"true"})}),Object(s.jsx)("input",{className:"pr-4 pl-10 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none",onChange:function(e){return c(e.target.value)},type:"search",name:"search",id:"search",placeholder:t})]})}},1158:function(e,t,a){"use strict";a.r(t);var c=a(12),n=a(9),r=a(0),l=a(13),s=a(82),i=a(88),o=a(89),d=a(93),u=a(94),j=a(90),p=a(95),x=a(14),h=a(16),b=a(87),f=a(115),O=a(105),g=a(2);function m(e,t){switch(console.log(t),t.type){case"SET_DATA":var a,c;return Object(n.a)(Object(n.a)({},e),{},{count:+(null===(a=t.payload)||void 0===a?void 0:a.count),data:null===(c=t.payload)||void 0===c?void 0:c.logs,loading:!1});case"SET_SEARCH":return Object(n.a)(Object(n.a)({},e),{},{trigger:!e.trigger,page:0,search:t.payload,loading:!0});case"SET_PAGE":return Object(n.a)(Object(n.a)({},e),{},{trigger:!e.trigger,page:t.payload,loading:!0});case"SET_START_DATE":return Object(n.a)(Object(n.a)({},e),{},{trigger:!e.trigger,page:0,start_date:t.payload,loading:!0});case"SET_END_DATE":return Object(n.a)(Object(n.a)({},e),{},{trigger:!e.trigger,page:0,end_date:t.payload,loading:!0});case"SET_LIMIT":return Object(n.a)(Object(n.a)({},e),{},{trigger:!e.trigger,page:0,loading:!0,limit:t.payload});default:return e}}var v=function(e){var t=e.handleSearch,a=e.hanldeStartDate,c=e.hanldeEndDate;return Object(g.jsx)("div",{className:"flex flex-row justify-between items-center",children:Object(g.jsxs)("div",{className:"flex flex-row w-4/5",children:[Object(g.jsx)("div",{className:"w-1/3",children:Object(g.jsx)(f.a,{action:function(e){return t(e)},placeholder:"\u041f\u043e\u0438\u0441\u043a"})}),Object(g.jsx)("div",{className:"pl-3 w-1/3",children:Object(g.jsx)("input",{type:"text",onFocus:function(e){e.currentTarget.type="date"},onBlur:function(e){return e.currentTarget.type="text"},onChange:function(e){return a(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e",className:"w-1/3 pr-4 pl-15 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none pl-10"})}),Object(g.jsx)("div",{className:"pl-3 w-1/3",children:Object(g.jsx)("input",{type:"text",onFocus:function(e){e.currentTarget.type="date"},onBlur:function(e){return e.currentTarget.type="text"},onChange:function(e){return c(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e",className:"w-1/3 pr-4 pl-15 h-10 text-gray-700 rounded-2xl appearance-none w-full bg-white shadow-sm placeholder-gray-400 focus:shadow-inner text-sm focus:outline-none pl-10"})})]})})};t.default=function(){var e,t=Object(l.b)(),a=Object(r.useReducer)(m,{data:[],loading:!0,search:"",trigger:!1,count:0,sort_column:"id",sort_direction:"ASC",page:0,limit:30,start_date:"",end_date:""}),f=Object(c.a)(a,2),y=f[0],w=f[1],N=Object(l.c)((function(e){return e.auth.token}));return Object(r.useEffect)((function(){t(Object(s.a)({url:"api/admin/get-logs?page=".concat(y.page,"&limit=").concat(y.limit,"&search=").concat(y.search,"&start_date=").concat(y.start_date,"&end_date=").concat(y.end_date),token:N,action:function(e){console.log(e),e.success?(w({type:"SET_DATA",payload:Object(n.a)({},e.data.rows)}),console.log(y)):x.b.error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")}}))}),[y.page,y.trigger]),Object(g.jsxs)(b.a,{header:Object(g.jsx)(v,{handleSearch:function(e){w({type:"SET_SEARCH",payload:e})},hanldeStartDate:function(e){return w({type:"SET_START_DATE",payload:e})},hanldeEndDate:function(e){return w({type:"SET_END_DATE",payload:e})}}),footer:Object(g.jsx)(O.a,{setPage:function(e){return w({type:"SET_PAGE",payload:e})},setLimit:function(e){return w({type:"SET_LIMIT",payload:e})},limit:+y.limit,count:+y.count,page:+y.page}),children:[Object(g.jsx)(h.a,{loading:y.loading}),Object(g.jsx)("div",{className:"w-full h-full px-6 overflow-y-auto pb-5",children:Object(g.jsxs)(i.a,{children:[Object(g.jsx)(o.a,{children:Object(g.jsx)(u.a,{children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:" 'text-blue-500'  px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer",children:Object(g.jsx)("span",{children:"ID"})})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:" 'text-blue-500'  px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer",children:Object(g.jsx)("span",{children:"\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440"})})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:" 'text-blue-500'  px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer",children:Object(g.jsx)("span",{children:"\u041d\u043e\u043c\u0435\u0440"})})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:" 'text-blue-500'  px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer",children:Object(g.jsx)("span",{children:"\u0412\u0440\u0435\u043c\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438"})})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:" 'text-blue-500'  px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer",children:Object(g.jsx)("span",{children:"\u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f"})})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:" 'text-blue-500'  px-2 py-4 font-medium flex flex-row justify-start items-center cursor-pointer",children:Object(g.jsx)("span",{children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438"})})})]})})}),Object(g.jsx)(d.a,{children:(null===(e=y.data)||void 0===e?void 0:e.length)>0?y.data.map((function(e){return Object(g.jsx)(u.a,{children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:"p-2 w-12",children:e.real_estate_id})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:"p-2",children:e.full_name})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:"p-2",children:e.phone})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:"p-2",children:e.time})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:"p-2",children:e.activation?"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u043b\u0438":"\u041e\u0442\u043a\u0430\u0437\u0430\u043b\u0438"})}),Object(g.jsx)(j.a,{children:Object(g.jsx)("div",{className:"p-2",children:e.comment?"".concat(e.comment):"\u041d\u0435\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f"})})]})},e.log_id)})):!0===y.loading?null:Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:"10",children:Object(g.jsx)("div",{className:"flex w-full h-full py-20 justify-center items-center",children:Object(g.jsx)(p.a,{title:"\u041d\u0435\u0442 \u041b\u043e\u043a\u0430\u0446\u0438\u0439"})})})})})]})})]})}}}]);
//# sourceMappingURL=23.8d71df21.chunk.js.map