(this.webpackJsonpgamysh=this.webpackJsonpgamysh||[]).push([[21],{1165:function(e,t,s){"use strict";s.r(t);var n=s(12),o=s(9),r=s(0),c=s(1),i=s(13),a=s(134),l=s(132),u=s(111),m=s(82),d=s(11),p=s(5),h=s(14),b=s(31),g=s(161),f=s.p+"static/media/background.d76ad7a8.svg",v=s(187),j=s(2);function x(e,t){return"SET_LOADING"===t.type?Object(o.a)(Object(o.a)({},e),{},{loading:t.payload}):e}var w=l.f().shape({phone:l.g().min(8,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439").max(8,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 8 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439").required("\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"\u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),password:l.g().min(8,"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439").max(50,"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 50 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439").required("\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d")});t.default=function(){var e,t,s=Object(r.useReducer)(x,{loading:!1}),l=Object(n.a)(s,2),O=l[0],y=l[1],I=Object(u.f)({resolver:Object(a.a)(w)}),U=I.register,N=I.handleSubmit,C=I.formState.errors,L=Object(i.b)(),M=Object(c.g)(),E=Object(i.c)((function(e){return e.auth})),T=E.isLogged,k=Object(c.f)();return Object(r.useEffect)((function(){var e;!0===T&&((null===(e=k.state)||void 0===e?void 0:e.from)?M(k.state.from):M("/"));return function(){y({type:"RESET_DATA"})}}),[T]),Object(j.jsxs)("div",{className:"w-full h-full relative flex flex-row justify-center lg:justify-start items-center lg:px-40",children:[Object(j.jsx)("img",{src:f,className:"absolute top-0 left-0 object-cover  w-full h-full",alt:"Background"}),Object(j.jsxs)("form",{style:{height:450},onSubmit:N((function(e){y({type:"SET_LOADING",payload:!0}),L(Object(m.b)({url:"/api/admin/login",data:e,action:function(e){var t,s;(y({type:"SET_LOADING",payload:!1}),e.success)?(Object(d.c)("refresh_token",e.data.refresh_token),L(Object(p.f)(e.data))):(console.log(null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.message),e.message&&h.b.error(null===e||void 0===e||null===(s=e.message)||void 0===s?void 0:s.message))},token:""}))})),className:"w-full  max-w-sm relative px-8 flex flex-col justify-start items-center rounded-xl shadow-2xl mx-2 sm:mx-6 lg:mx-12",children:[Object(j.jsx)("p",{className:"text-3xl pt-16 pb-6 font-semibold text-center text-gray-800",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(j.jsxs)("div",{className:"w-full flex flex-col mt-12",children:[Object(j.jsxs)("div",{className:"relative w-full mb-6",children:[Object(j.jsx)("label",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(j.jsx)("input",Object(o.a)(Object(o.a)({type:"tel"},U("phone")),{},{autoComplete:"false",className:"".concat(C.phone?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," pl-14 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2 "),placeholder:"6xxxxxxx"})),Object(j.jsx)("div",{className:"absolute opacity-80 top-6 z-10 px-2 py-2 text-base font-medium text-gray-600 rounded-l h-10",children:"+993"}),Object(j.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(e=C.phone)||void 0===e?void 0:e.message})]}),Object(j.jsxs)("div",{className:"relative w-full mb-4",children:[Object(j.jsx)("label",{children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(j.jsx)("input",Object(o.a)(Object(o.a)({},U("password")),{},{autoComplete:"false",type:"password",className:"".concat(C.password?"border-2 border-red-300 ring-red-100":"ring-indigo-600"," pl-14 shadow-inner h-10 w-full text-base bg-gray-50 rounded-md z-20 focus:bg-white focus:outline-none focus:ring-2"),placeholder:"********"})),Object(j.jsx)(g.RiLockPasswordLine,{className:"absolute text-3xl top-7 left-4 w-6 opacity-70"}),Object(j.jsx)("p",{className:"absolute bottom-0 left-0 -mb-4 text-xs font-medium text-red-400",children:null===(t=C.password)||void 0===t?void 0:t.message})]}),Object(j.jsx)("div",{className:"absolute bottom-12 lg:bottom-10 left-0 right-0 mx-auto",children:Object(j.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(j.jsx)("button",{type:"submit",disabled:O.loading,className:"w-40 flex remove-button-bg justify-center items-center px-4 h-10 text-white transform ease-in-out duration-300 hover:scale-110 active:scale-100 font-semibold text-base rounded-full bg-green-500 hover:bg-green-400 active:bg-green-500 focus:outline-none shadow-md",children:O.loading?Object(j.jsx)("div",{className:"w-12",children:Object(j.jsx)(b.a,{size:"sm"})}):"\u0412\u043e\u0439\u0442\u0438"})})})]})]}),Object(j.jsx)("div",{className:"w-80 h-80 z-20 mx-2 sm:mx-6 lg:mx-16 rounded-3xl border-4 border-orange",children:Object(j.jsx)("img",{src:v.a,className:"object-contain",alt:"Logo"})})]})}},161:function(e,t,s){var n=s(79).GenIcon;e.exports.RiLockPasswordLine=function(e){return n({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0v1zM5 10v10h14V10H5zm6 4h2v2h-2v-2zm-4 0h2v2H7v-2zm8 0h2v2h-2v-2zm1-6V7a4 4 0 1 0-8 0v1h8z"}}]}]})(e)}},187:function(e,t,s){"use strict";t.a=s.p+"static/media/logo.070d5664.svg"},79:function(e,t,s){"use strict";s.r(t),s.d(t,"IconsManifest",(function(){return n})),s.d(t,"GenIcon",(function(){return m})),s.d(t,"IconBase",(function(){return d})),s.d(t,"DefaultContext",(function(){return c})),s.d(t,"IconContext",(function(){return i}));var n=[{id:"fa",name:"Font Awesome",projectUrl:"https://fontawesome.com/",license:"CC BY 4.0 License",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"},{id:"io",name:"Ionicons 4",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"io5",name:"Ionicons 5",projectUrl:"https://ionicons.com/",license:"MIT",licenseUrl:"https://github.com/ionic-team/ionicons/blob/master/LICENSE"},{id:"md",name:"Material Design icons",projectUrl:"http://google.github.io/material-design-icons/",license:"Apache License Version 2.0",licenseUrl:"https://github.com/google/material-design-icons/blob/master/LICENSE"},{id:"ti",name:"Typicons",projectUrl:"http://s-ings.com/typicons/",license:"CC BY-SA 3.0",licenseUrl:"https://creativecommons.org/licenses/by-sa/3.0/"},{id:"go",name:"Github Octicons icons",projectUrl:"https://octicons.github.com/",license:"MIT",licenseUrl:"https://github.com/primer/octicons/blob/master/LICENSE"},{id:"fi",name:"Feather",projectUrl:"https://feathericons.com/",license:"MIT",licenseUrl:"https://github.com/feathericons/feather/blob/master/LICENSE"},{id:"gi",name:"Game Icons",projectUrl:"https://game-icons.net/",license:"CC BY 3.0",licenseUrl:"https://creativecommons.org/licenses/by/3.0/"},{id:"wi",name:"Weather Icons",projectUrl:"https://erikflowers.github.io/weather-icons/",license:"SIL OFL 1.1",licenseUrl:"http://scripts.sil.org/OFL"},{id:"di",name:"Devicons",projectUrl:"https://vorillaz.github.io/devicons/",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ai",name:"Ant Design Icons",projectUrl:"https://github.com/ant-design/ant-design-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"bs",name:"Bootstrap Icons",projectUrl:"https://github.com/twbs/icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"ri",name:"Remix Icon",projectUrl:"https://github.com/Remix-Design/RemixIcon",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"fc",name:"Flat Color Icons",projectUrl:"https://github.com/icons8/flat-color-icons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"gr",name:"Grommet-Icons",projectUrl:"https://github.com/grommet/grommet-icons",license:"Apache License Version 2.0",licenseUrl:"http://www.apache.org/licenses/"},{id:"hi",name:"Heroicons",projectUrl:"https://github.com/refactoringui/heroicons",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"si",name:"Simple Icons",projectUrl:"https://simpleicons.org/",license:"CC0 1.0 Universal",licenseUrl:"https://creativecommons.org/publicdomain/zero/1.0/"},{id:"im",name:"IcoMoon Free",projectUrl:"https://github.com/Keyamoon/IcoMoon-Free",license:"CC BY 4.0 License"},{id:"bi",name:"BoxIcons",projectUrl:"https://github.com/atisawd/boxicons",license:"CC BY 4.0 License"},{id:"cg",name:"css.gg",projectUrl:"https://github.com/astrit/css.gg",license:"MIT",licenseUrl:"https://opensource.org/licenses/MIT"},{id:"vsc",name:"VS Code Icons",projectUrl:"https://github.com/microsoft/vscode-codicons",license:"CC BY 4.0",licenseUrl:"https://creativecommons.org/licenses/by/4.0/"}],o=s(0),r=s.n(o),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.a.createContext&&r.a.createContext(c),a=function(){return a=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var o in t=arguments[s])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},l=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]])}return s};function u(e){return e&&e.map((function(e,t){return r.a.createElement(e.tag,a({key:t},e.attr),u(e.child))}))}function m(e){return function(t){return r.a.createElement(d,a({attr:a({},e.attr)},t),u(e.child))}}function d(e){var t=function(t){var s,n=e.attr,o=e.size,c=e.title,i=l(e,["attr","size","title"]),u=o||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.a.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,i,{className:s,style:a(a({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),c&&r.a.createElement("title",null,c),e.children)};return void 0!==i?r.a.createElement(i.Consumer,null,(function(e){return t(e)})):t(c)}},82:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return a}));var n=s(3),o=s.n(n),r=s(10),c=s(30),i=(s(14),function(e){var t=e.url,s=e.token,n=e.action;return Object(r.a)(o.a.mark((function e(){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.get({url:t,token:s,withCredentials:!1});case 3:return r=e.sent,e.abrupt("return",n({success:!0,data:r.data}));case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",n({success:!1,message:null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.data}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))}),a=function(e){var t=e.url,s=e.token,n=e.action,i=e.data;return function(){var e=Object(r.a)(o.a.mark((function e(r){var a,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.post({url:t,params:i,withCredentials:!1,token:s});case 3:return a=e.sent,e.abrupt("return",n({success:!0,data:a.data}));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n({success:!1,message:null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.data,error:null===e.t0||void 0===e.t0?void 0:e.t0.response}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=21.77ee0531.chunk.js.map